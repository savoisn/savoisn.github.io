<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Displaylink on Arch Linux - NSA Blog</title>
  <meta property="og:title" content="Displaylink on Arch Linux" />
  <meta name="twitter:title" content="Displaylink on Arch Linux" />
  <meta name="description" content="Using Displaylink on Arch Linux. If, like me, your company has chosen DisplayLink to connect to your big fat 29&rdquo; monitor, or to connect to TV in meeting room, and you use linux you are probably not very (at all) pleased with that choice !
In my team, 95% of the devs are using Ubuntu as there linux distrib and the Displaylink driver is not really working.
I&rsquo;ve switch to Arch Linux this week end !">
  <meta property="og:description" content="Using Displaylink on Arch Linux. If, like me, your company has chosen DisplayLink to connect to your big fat 29&rdquo; monitor, or to connect to TV in meeting room, and you use linux you are probably not very (at all) pleased with that choice !
In my team, 95% of the devs are using Ubuntu as there linux distrib and the Displaylink driver is not really working.
I&rsquo;ve switch to Arch Linux this week end !">
  <meta name="twitter:description" content="Using Displaylink on Arch Linux. If, like me, your company has chosen DisplayLink to connect to your big fat 29&rdquo; monitor, or to connect to TV in meeting room, and you use linux you are probably …"><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "NSA Blog",
    
    "url": "/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "/post/displaylink_on_arch/",
          "name": "Displaylink on arch linux"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "Displaylink on Arch Linux",
  "description" : "Using Displaylink on Arch Linux. If, like me, your company has chosen DisplayLink to connect to your big fat 29&amp;rdquo; monitor, or to connect to TV in meeting room, and you use linux you are probably not very (at all) pleased with that choice !
In my team, 95% of the devs are using Ubuntu as there linux distrib and the Displaylink driver is not really working.
I&amp;rsquo;ve switch to Arch Linux this week end !",
  "inLanguage" : "en",
  "wordCount": 908,
  "datePublished" : "2017-05-02T18:37:43",
  "dateModified" : "2017-05-02T18:37:43",
  "image" : "/img/avatar-icon.png",
  "keywords" : [ "arch, linux, DisplayLink" ],
  "mainEntityOfPage" : "/post/displaylink_on_arch/",
  "publisher" : {
    "@type": "Organization",
    "name" : "/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "/img/avatar-icon.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Displaylink on Arch Linux" />
<meta property="og:description" content="Using Displaylink on Arch Linux. If, like me, your company has chosen DisplayLink to connect to your big fat 29&rdquo; monitor, or to connect to TV in meeting room, and you use linux you are probably not very (at all) pleased with that choice !
In my team, 95% of the devs are using Ubuntu as there linux distrib and the Displaylink driver is not really working.
I&rsquo;ve switch to Arch Linux this week end !">
<meta property="og:image" content="/img/avatar-icon.png" />
<meta property="og:url" content="/post/displaylink_on_arch/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="NSA Blog" />
  <meta name="twitter:title" content="Displaylink on Arch Linux" />
  <meta name="twitter:description" content="Using Displaylink on Arch Linux. If, like me, your company has chosen DisplayLink to connect to your big fat 29&rdquo; monitor, or to connect to TV in meeting room, and you use linux you are probably …">
  <meta name="twitter:image" content="/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <link href='../../img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/img/avatar-icon.png" />
  <meta name="twitter:image" content="/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="/post/displaylink_on_arch/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="NSA Blog" />

  <meta name="generator" content="Hugo 0.54.0" />
  <link rel="alternate" href="../../index.xml" type="application/rss+xml" title="NSA Blog"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="../../css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="../../css/syntax.css" /><link rel="stylesheet" href="../../css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-57936080-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../">NSA Blog</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Samples</a>
              <div class="navlinks-children">
                
                  <a href="../../post/welcome">Welcome</a>
                
                  <a href="../../post/displaylink_on_arch">display link on arch</a>
                
                  <a href="../../post/traefic_consul">Playing with Traefik and Consul</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Tags" href="../../tags">Tags</a>
            </li>
          
        
          
            <li>
              <a title="About" href="../../about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="NSA Blog" href="../../">
            <img class="avatar-img" src="../../img/avatar-icon.png" alt="NSA Blog" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Displaylink on Arch Linux</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on May 2, 2017
  
  
  
  
    &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<h1 id="using-displaylink-on-arch-linux">Using Displaylink on Arch Linux.</h1>

<p>If, like me, your company has chosen DisplayLink to connect to your big fat 29&rdquo; monitor, or to connect to TV in meeting room, and you use linux you are probably not very (at all) pleased with that choice !</p>

<p>In my team, 95% of the devs are using Ubuntu as there linux distrib and the Displaylink driver is not really working.</p>

<p>I&rsquo;ve switch to Arch Linux this week end ! (1st May is off in France !), installed all my tools and was happy this morning comming to work and show my nice new linux install and realized I&rsquo;ve forgot that awesome piece of technology that is DisplayLink !</p>

<p>So I looked into Arch docs, and (to my amazement) found some docs on DisplayLink (Thanks guys you rock!), here you go:</p>

<p><a href="https://wiki.archlinux.org/index.php/DisplayLink">https://wiki.archlinux.org/index.php/DisplayLink</a></p>

<p>Being new to Arch, the doc was assuming some arch basics I was missing&hellip; So for those like me, here is what I did:</p>

<p>first install the package &ldquo;base devel&rdquo;, it will install GCC and other things to compile and build things.</p>

<pre><code>sudo pacman -S --needed base-devel
</code></pre>

<p>second thing to prepare, install linux kernel headers for <em>your</em> kernel (require to build module according to your kernel)</p>

<pre><code>uname -r
</code></pre>

<p>will display your kernel version, for me it is 4.9, use <code>pacman -Ss linux headers</code> to find the package</p>

<pre><code>sudo pacman -S core/linux49-headers
</code></pre>

<p>preparation is nearly done, need to install one last dependency, evdi.
In fact evdi is a dependency of this displaylink AUR.</p>

<p>download the evdi AUR from <a href="https://aur.archlinux.org/packages/evdi/">https://aur.archlinux.org/packages/evdi/</a>
(<a href="https://aur.archlinux.org/cgit/aur.git/snapshot/evdi.tar.gz">evdi.tar.gz</a>)</p>

<p>untar it</p>

<pre><code>tar zvf evdi.tar.gz
</code></pre>

<p>build and install it</p>

<pre><code>cd evdi
makepkg -si
</code></pre>

<p>Same thing with the displaylink AUR
download the displayLink package from <a href="https://aur.archlinux.org/packages/displaylink/">https://aur.archlinux.org/packages/displaylink/</a> AUR project
(<a href="https://aur.archlinux.org/cgit/aur.git/snapshot/displaylink.tar.gz">displaylink.tar.gz</a>)</p>

<p>untar it</p>

<pre><code>tar zvf displaylink.tar.gz
</code></pre>

<p>build and install it (makepkg is a tool to build AUR package)</p>

<pre><code>cd displaylink
makepkg -si
</code></pre>

<p>udl is the kernel module that manage displaylink V1 driver, which the current driver use as a base.
activate <em>udl</em> kernel module and start displaylink service,</p>

<pre><code>sudo modprobe udl
sudo systemctl start diplaylink.service
</code></pre>

<p>plug your usb displaylink (powered&hellip;) cable into your computer (into an usb plug for example, that can be handy)
wait a few seconds (less than 30 seconds&hellip;)
and check your providers :</p>

<pre><code>xrandr --listproviders
</code></pre>

<p>you should see 2 providers</p>

<pre><code>Providers: number : 2
Provider 0: id: 0x45 cap: 0xb, Source Output, Sink Output, Sink Offload crtcs: 4 outputs: 2 associated providers: 1 name:Intel 
Provider 1: id: 0x14d cap: 0x2, Sink Output crtcs: 1 outputs: 1 associated providers: 1 name:modesetting
</code></pre>

<p>associate the new provider (modesetting) output to the Intel provide input&hellip; (awesome !!! don&rsquo;t ask me why&hellip; can&rsquo;t yet grasp the whole concept)</p>

<pre><code>xrandr --setprovideroutputsource 1 0
</code></pre>

<p>look what&rsquo;s your xrandr current output look like</p>

<pre><code>xrandr --current
</code></pre>

<p>you should see 2 differents possible screens:</p>

<pre><code>Screen 0: minimum 8 x 8, current 2560 x 1440, maximum 32767 x 32767
eDP1 connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 340mm x 190mm
   1920x1080     60.02*+
   1400x1050     59.98
   1600x900      60.00
   1280x1024     60.02
   1280x960      60.00
   1368x768      60.00
   1280x720      60.00
   1024x768      60.00
   1024x576      60.00
   960x540       60.00
   800x600       60.32    56.25
   864x486       60.00
   640x480       59.94
   720x405       60.00
   640x360       60.00
VIRTUAL1 disconnected (normal left inverted right x axis y axis)
DVI-I-1-1 connected 2560x1440+0+0 (normal left inverted right x axis y axis) 597mm x 336mm
   2560x1440     59.95 +
   2048x1152     60.00
   1920x1200     59.88
   1920x1080     60.00    50.00    59.94    30.00    25.00    24.00    29.97    23.98
   1600x1200     60.00
   1680x1050     59.95
   1280x1024     75.02    60.02
   1200x960      59.99
   1152x864      75.00
   1280x720      60.00    50.00    59.94
   1024x768      75.03    60.00
   800x600       75.00    60.32    56.25
   720x576       50.00
   848x480       60.00
   720x480       60.00    59.94
   640x480       75.00    60.00    59.94
   720x400       70.08
  1280x1024 (0x106) 108.000MHz +HSync +VSync
        h: width  1280 start 1328 end 1440 total 1688 skew    0 clock  63.98KHz
        v: height 1024 start 1025 end 1028 total 1066           clock  60.02Hz
  1024x768 (0x10a) 65.000MHz -HSync -VSync
        h: width  1024 start 1048 end 1184 total 1344 skew    0 clock  48.36KHz
        v: height  768 start  771 end  777 total  806           clock  60.00Hz
  800x600 (0x10d) 40.000MHz +HSync +VSync
        h: width   800 start  840 end  968 total 1056 skew    0 clock  37.88KHz
        v: height  600 start  601 end  605 total  628           clock  60.32Hz
  800x600 (0x10e) 36.000MHz +HSync +VSync
        h: width   800 start  824 end  896 total 1024 skew    0 clock  35.16KHz
        v: height  600 start  601 end  603 total  625           clock  56.25Hz
  640x480 (0x110) 25.175MHz -HSync -VSync
        h: width   640 start  656 end  752 total  800 skew    0 clock  31.47KHz
        v: height  480 start  490 end  492 total  525           clock  59.94Hz
</code></pre>

<p>here we see eDP1 is my laptop screen (don&rsquo;t shut it down&hellip; would be a bit stressfull right?)
and the DVI-I-1-1 which is my displaylink connected screen.
the * sign indicate the active display</p>

<p>let&rsquo;s activate our displaylink screen !
mirror your display (my favorite to present things to an audiance):</p>

<pre><code>xrandr --output eDP1 --auto --primary --output DVI-I-1-1 --auto --same-as eDP1
</code></pre>

<p>shutting down that display</p>

<pre><code>xrandr --output eDP1 --auto --output DVI-I-1-1 --off
</code></pre>

<p>extended your display to the right of your current display:</p>

<pre><code>xrandr --newmode &quot;3840x2160_30.00&quot;  338.75  3840 4080 4488 5136  2160 2163 2168 2200 -hsync +vsync
xrandr --addmode  DP1 &quot;3840x2160_30.00&quot;
xrandr --output eDP1 --auto --primary --output DP1 --mode 3840x2160_30.00 --right-of eDP1 --rate 30
</code></pre>

<p>you can customize the position replacing the <code>--right-of</code> with either of :</p>

<pre><code>--left-of
--above
--below
</code></pre>

<p>For myself I&rsquo;ve created a few zsh function that handles this for me :)</p>

<p>Hope it helps !</p>

<p>Once I get the disqus plugin to work in Hugo, hopefully you will be able to give me some feedback.</p>


        
          <div class="blog-tags">
            
              <a href="//tags/arch/">arch</a>&nbsp;
            
              <a href="//tags/linux/">linux</a>&nbsp;
            
              <a href="//tags/displaylink/">DisplayLink</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="../../post/welcome/" data-toggle="tooltip" data-placement="top" title="Welcome">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="../../post/traefic_consul/" data-toggle="tooltip" data-placement="top" title="Traefik and Consul Bare">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "savoisnblog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          
        
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            
            <a href="../../index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="../../">NSA Blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.54.0</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="../../js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="../../js/load-photoswipe.js"></script>









  </body>
</html>

